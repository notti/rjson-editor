!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-feather"),require("brace"),require("react-dnd-html5-backend"),require("react-dnd")):"function"==typeof define&&define.amd?define(["react","react-feather","brace","react-dnd-html5-backend","react-dnd"],t):"object"==typeof exports?exports.RJSONEditor=t(require("react"),require("react-feather"),require("brace"),require("react-dnd-html5-backend"),require("react-dnd")):e.RJSONEditor=t(e.React,e["react-feather"],e.brace,e.ReactDnDHTML5Backend,e.ReactDnD)}(window,function(e,t,n,r,o){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseEditor=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=u(i);n(21);var s=u(n(16)),l=u(n(8)),c=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(e){d(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addPrecontrol=function(e,t,o){n.setState(function(n){var i=r({},n.precontrol);return i[e]={order:t,control:o},{precontrol:i}})},n.delPrecontrol=function(e){n.setState(function(t){var n=r({},t.precontrol);return delete n[e],{precontrol:n}})},n.addPostcontrol=function(e,t,o){n.setState(function(n){var i=r({},n.postcontrol);return i[e]={order:t,control:o},{postcontrol:i}})},n.delPostcontrol=function(e){n.setState(function(t){var n=r({},t.postcontrol);return delete n[e],{postcontrol:n}})},n.handleEditorChange=function(e){n.setState({editorId:e.target.value})},n.valueChange=function(e,t){n.props.valueChange(e,t),n.setState({value:t})},n.state={editor:e.constraints.getEditor(),editorId:0,value:void 0,precontrol:{},postcontrol:{}},n}return f(t,i.Component),o(t,[{key:"render",value:function(){var e=Object.values(this.state.precontrol).sort(function(e,t){return e.order-t.order}).map(function(e){return e.control}),t=Object.values(this.state.postcontrol).sort(function(e,t){return e.order-t.order}).map(function(e){return e.control}),n=this.state.editor.component(),r=this.state.editor.constraints,o="";if(void 0===n)return a.default.createElement("div",{className:"form-group"},a.default.createElement("label",null,this.state.editor.type));Array.isArray(n)&&(o=a.default.createElement("select",{value:this.state.editorId,className:"custom-select custom-select-sm ml-2 editor-chooser",onChange:this.handleEditorChange},n.map(function(e,t){return a.default.createElement("option",{key:t,value:t},e.title)})),r=n[this.state.editorId].constraints,n=n[this.state.editorId].component());var i=a.default.createElement(n,{state:this.props.state,key:this.state.editorId,defaults:this.props.defaults,id:this.props.id,constraints:r,value:this.state.value,valueChange:this.valueChange,addPrecontrol:this.addPrecontrol,delPrecontrol:this.delPrecontrol,addPostcontrol:this.addPostcontrol,delPostcontrol:this.delPostcontrol,editModal:this.props.editModal,onEdit:this.props.onEdit,onConstruct:this.props.onConstruct});if(!0===this.props.short)return a.default.createElement("div",{className:"form-group mb-2 mr-2 short"},e,o,a.default.createElement("div",{className:"editor"},i),t);var s=this.props.constraints.title||this.props.id;return a.default.createElement("div",{className:"form-group mr-2"},a.default.createElement("div",{className:"form-inline mb-2"},e,a.default.createElement("span",{dangerouslySetInnerHTML:{__html:s}}),o,t),i)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value===t.value?null:{editorId:t.editor.idForValue(e.value),value:e.value}}}]),t}(),m=function(e){function t(e){d(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.close=function(){n.obj=null;var e=n.dialog.current;document.body.removeChild(n.backdrop),e.classList.remove("show"),e.style.display="none",document.body.classList.remove("modal-open")},n.ok=function(){try{n.obj.setValue(JSON.parse(n.session.getValue())),n.close()}catch(e){window.alert("Invalid JSON! "+e)}},n.open=function(e){n.obj=e,n.session.setValue(JSON.stringify(e.getValue(),null,2));var t=n.dialog.current;t.classList.add("show"),t.style.display="block",document.body.appendChild(n.backdrop),document.body.classList.add("modal-open")},n.backdrop=document.createElement("div"),n.backdrop.classList.add("modal-backdrop","show"),n.dialog=a.default.createRef(),n.session=null,n.editor=null,n.obj=null,n}return f(t,i.Component),o(t,[{key:"componentDidMount",value:function(){var e=n(7);n(6),n(4),this.editor=e.edit("ace"),this.editor.$blockScrolling=1/0,this.session=this.editor.getSession(),this.session.setMode("ace/mode/json"),this.editor.setTheme("ace/theme/github")}},{key:"render",value:function(){return a.default.createElement("div",{className:"modal",tabIndex:"-1",role:"dialog",ref:this.dialog},a.default.createElement("div",{className:"modal-dialog raw-dialog",role:"document"},a.default.createElement("div",{className:"modal-content raw-content"},a.default.createElement("div",{className:"modal-header"},a.default.createElement("h5",{className:"modal-title"},"Edit raw JSON"),a.default.createElement("button",{type:"button",className:"close",onClick:this.close},a.default.createElement("span",null,"Ã—"))),a.default.createElement("div",{className:"modal-body",id:"ace"}),a.default.createElement("div",{className:"modal-footer"},a.default.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.ok},a.default.createElement(c.CheckCircle,null)," Modify"),a.default.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.close},a.default.createElement(c.XCircle,null)," Cancel")))))}}]),t}(),g=function(e){function t(e){d(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.valueChange=function(e,t){n.setState({value:t})},n.getValue=function(){return n.state.value},n.onEdit=function(){},n.onConstruct=function(){},n.schema=e.schema,n.pseudoschema=(0,s.default)(n.schema),n.editModal=a.default.createRef(),n.state={value:void 0,state:new l.default},n}return f(t,i.Component),o(t,[{key:"render",value:function(){return a.default.createElement(a.default.Fragment,null,a.default.createElement(h,{state:this.state.state,defaults:this.props.defaults,constraints:this.pseudoschema,value:this.state.value,valueChange:this.valueChange,editModal:this.editModal,onEdit:this.props.onEdit||this.onEdit,onConstruct:this.props.onConstruct||this.onConstruct}),a.default.createElement(m,{ref:this.editModal}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value===t.value?null:{value:e.value,state:new l.default}}}]),t}();t.default=g,t.BaseEditor=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=n(1);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleHide=function(e){e.preventDefault(),n.setState(function(e){var t=!e.open;return n.props.handleHide(t),{open:t}})},n.state={open:e.open},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){var e=this.state.open?a.default.createElement(s.ChevronDown,{className:"chevron"}):a.default.createElement(s.ChevronRight,{className:"chevron"});return a.default.createElement("a",{href:"#collapse",className:"mr-2",onClick:this.handleHide},e)}}]),t}();t.default=l},function(e,t){ace.define("ace/theme/github",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!1,t.cssClass="ace-github",t.cssText='.ace-github .ace_gutter {background: #e8e8e8;color: #AAA;}.ace-github  {background: #fff;color: #000;}.ace-github .ace_keyword {font-weight: bold;}.ace-github .ace_string {color: #D14;}.ace-github .ace_variable.ace_class {color: teal;}.ace-github .ace_constant.ace_numeric {color: #099;}.ace-github .ace_constant.ace_buildin {color: #0086B3;}.ace-github .ace_support.ace_function {color: #0086B3;}.ace-github .ace_comment {color: #998;font-style: italic;}.ace-github .ace_variable.ace_language  {color: #0086B3;}.ace-github .ace_paren {font-weight: bold;}.ace-github .ace_boolean {font-weight: bold;}.ace-github .ace_string.ace_regexp {color: #009926;font-weight: normal;}.ace-github .ace_variable.ace_instance {color: teal;}.ace-github .ace_constant.ace_language {font-weight: bold;}.ace-github .ace_cursor {color: black;}.ace-github.ace_focus .ace_marker-layer .ace_active-line {background: rgb(255, 255, 204);}.ace-github .ace_marker-layer .ace_active-line {background: rgb(245, 245, 245);}.ace-github .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-github.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-github.ace_nobold .ace_line > span {font-weight: normal !important;}.ace-github .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-github .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-github .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-github .ace_gutter-active-line {background-color : rgba(0, 0, 0, 0.07);}.ace-github .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-github .ace_invisible {color: #BFBFBF}.ace-github .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-github .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(t.cssText,t.cssClass)})},function(e,t){e.exports.id="ace/mode/json_worker",e.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r Â áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(e,t,n){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,i=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};r.inherits(i,o),t.JsonHighlightRules=i}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../range").Range,o=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var o=n[1].length,i=e.findMatchingBracket({row:t,column:o});if(!i||i.row==t)return 0;var a=this.$getIndent(e.getLine(i.row));e.replace(new r(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(o.prototype),t.MatchingBraceOutdent=o}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),o=e("../../range").Range,i=e("./fold_mode").FoldMode,a=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(a,i),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var o=this._getFoldWidgetBase(e,t,n);return!o&&this.startRegionRe.test(r)?"start":o},this.getFoldWidgetRange=function(e,t,n,r){var o,i=e.getLine(n);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(e,i,n);if(o=i.match(this.foldingStartMarker)){var a=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,a);var s=e.getCommentFoldRange(n,a+o[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t&&(o=i.match(this.foldingStopMarker))){a=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,a):e.getCommentFoldRange(n,a,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),r=n.search(/\S/),i=t,a=n.length,s=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(r>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=i)break;if(u.isMultiLine())t=u.end.row;else if(r==c)break}s=t}}return new o(i,a,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),i=e.getLength(),a=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<i;){t=e.getLine(n);var c=s.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>a)return new o(a,r,n,t.length)}}.call(a.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,t,r){"use strict";var o=e("../lib/oop"),i=e("./text").Mode,a=e("./json_highlight_rules").JsonHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,u=e("../worker/worker_client").WorkerClient,d=function(){this.HighlightRules=a,this.$outdent=new s,this.$behaviour=new l,this.foldingRules=new c};o.inherits(d,i),function(){this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t);"start"==e&&(t.match(/^.*[\{\(\[]\s*$/)&&(r+=n));return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new u(["ace"],n(5),"JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/json"}.call(d.prototype),t.Mode=d})},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o.call(this),this._states={},this._path=void 0===t?[]:t.concat(n)},o=function(){var e=this;this.path=function(){return e._path.join(".")},this.child=function(t){return void 0===e._states[t]&&(e._states[t]=new r(e._path,t)),e._states[t]}};t.default=r},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=d(o),a=n(2),s=d(n(3)),l=n(1),c=n(10),u=d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,o.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isDragging,r=t.connectDragSource,o=t.connectDragPreview,s=t.connectDropTarget,c="array-item";return n&&(c+=" dragging"),o(s(i.default.createElement("div",{className:c},i.default.createElement(a.BaseEditor,{state:this.props.state.child(this.props.id),defaults:this.props.defaults,id:this.props.id,constraints:this.props.constraints,value:this.props.value,valueChange:this.props.valueChange,short:this.props.short,editModal:this.props.editModal,onEdit:this.props.onEdit,onConstruct:this.props.onConstruct}),i.default.createElement("button",{key:"arrayDelete",type:"button",className:"btn btn-sm btn-outline-secondary mx-2 mb-3",tabIndex:"-1",onClick:function(){e.props.handleDel(e.props.id)}},i.default.createElement(l.Trash2,null)," Delete"),this.props.moveable&&r(i.default.createElement("button",{key:"arrayMove",type:"button",className:"btn btn-sm btn-outline-secondary mx-2 mb-3 move",tabIndex:"-1"},i.default.createElement(l.Shuffle,null)," Move")))))}}]),t}(),g=(0,c.DropTarget)("ArrayItem",{canDrop:function(){return!1},hover:function(e,t){var n=t.getItem(),r=n.dragId,o=n.path,i=e.dragId;o===e.path&&r!==i&&e.moveItem(r,e.findKey(i))}},function(e){return{connectDropTarget:e.dropTarget()}})((0,c.DragSource)("ArrayItem",{beginDrag:function(e){return{dragId:e.dragId,originalIndex:e.id,path:e.path}},endDrag:function(e,t){var n=t.getItem(),r=n.dragId,o=n.originalIndex;t.didDrop()?e.onEdit([e.findKey(r),o],"change"):e.moveItem(r,o)}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(m)),v=function(e){function t(e){p(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleHide=function(e){n.setState({open:e}),n.props.state.collapsed=!e},n.valueChange=function(e,t){n.state.value[e]=t},n.handleAdd=function(){n.props.onEdit(n.props.state.path(),void 0,"add");var e=n.state.value;e.push(void 0),(e=n.state.keys).push(0===e.length?0:e.reduce(function(e,t){return t>e?t:e},n.state.keys[0])+1),n.setState({invalid:n.props.constraints.validate(n.state.value)})},n.handleDel=function(e){n.props.onEdit(n.props.state.path(),e,"del");var t=n.state.value;t.splice(e,1),(t=n.state.keys).splice(e,1),n.setState({invalid:n.props.constraints.validate(n.state.value)})},n.findKey=function(e){return n.state.keys.indexOf(e)},n.moveItem=function(e,t){var r=n.findKey(e),o=n.state.value;o.splice(t,0,o.splice(r,1)[0]),(o=n.state.keys).splice(t,0,o.splice(r,1)[0]),n.forceUpdate()},n.propertyConstraint=function(e){var t=n.props.constraints;return Array.isArray(t.items)?e>=n.state.value.length?t.additionalItems:t.items[e]:t.items},n.setValue=function(e){JSON.stringify(e)!==JSON.stringify(n.state.value)&&Array.isArray(e)&&(n.props.onEdit(n.props.state.path(),e,"set"),n.setState({value:e,keys:e.map(function(e,t){return t}),valid:n.props.constraints.validate(e)}),n.props.valueChange(n.props.id,e))},n.getValue=function(){return n.state.value},n.onEdit=function(e,t){n.props.onEdit(n.props.state.path(),e,t)};var r=e.state.collapsed;return void 0===r&&("function"==typeof(r=e.defaults.collapsed)&&(r=r(e.state.path())),e.state.collapsed=!!r),n.state={open:!r,value:[],keys:[],valid:e.constraints.validate([])},n.props.addPrecontrol("arrayChevron",-1e3,i.default.createElement(s.default,{key:"arrayChevron",handleHide:n.handleHide,open:n.state.open})),n.props.addPostcontrol("arrayAppend",-1e3,i.default.createElement("button",{key:"arrayAppend",type:"button",className:"btn btn-sm btn-outline-secondary mx-2",onClick:n.handleAdd},i.default.createElement(l.PlusSquare,null)," Append item")),"function"==typeof n.props.onConstruct&&n.props.onConstruct(n.props.state.path(),{getValue:n.getValue.bind(n),setValue:n.setValue.bind(n),addPrecontrol:n.props.addPrecontrol,addPostcontrol:n.props.addPostcontrol}),n}return h(t,o.Component),r(t,[{key:"componentWillUnmount",value:function(){this.props.delPrecontrol("arrayChevron"),this.props.delPostcontrol("arrayAppend")}},{key:"render",value:function(){var e=this;if(!this.state.open)return"";var t=this.props.connectDropTarget,n=this.state.value.map(function(t,n){return i.default.createElement(g,{state:e.props.state,path:e.props.state.path(),defaults:e.props.defaults,key:e.state.keys[n],dragId:e.state.keys[n],id:n,constraints:e.propertyConstraint(n),value:e.state.value[n],valueChange:e.valueChange,moveable:e.state.value.length>1,moveItem:e.moveItem,findKey:e.findKey,handleDel:e.handleDel,short:"table"===e.props.constraints.format,editModal:e.props.editModal,onEdit:e.props.onEdit,onConstruct:e.props.onConstruct})}),r=this.state.invalid,o="objectBody mx-2 px-2 border border-top-0 rounded-bottom";return void 0!==r&&(o+=" is-invalid"),t(i.default.createElement("div",{className:o},0===n.length&&i.default.createElement("span",{className:"badge badge-secondary mx-1 my-1"},"No items"),void 0!==r&&i.default.createElement("div",{className:"invalid-feedback"},r),n))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.value===t.value)return null;var n=e.value,r=e.constraints;return void 0!==n&&Array.isArray(n)||(n=void 0!==r.default?JSON.parse(JSON.stringify(r.default)):[],e.valueChange(e.id,n)),{value:n,keys:n.map(function(e,t){return t}),valid:e.constraints.validate(n)}}}]),t}();t.default=(0,c.DragDropContext)(u.default)((0,c.DropTarget)("ArrayItem",{canDrop:function(e,t){return e.state.path()===t.getItem().path},drop:function(){}},function(e){return{connectDropTarget:e.dropTarget()}})(v))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setValue=function(e){return!1},n.getValue=function(){return null},"function"==typeof n.props.onConstruct&&n.props.onConstruct(n.props.state.path(),{getValue:n.getValue.bind(n),setValue:n.setValue.bind(n),addPrecontrol:n.props.addPrecontrol,addPostcontrol:n.props.addPostcontrol}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){return a.default.createElement("input",{value:"null",className:"form-control",readOnly:!0})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return null!==e.value&&e.valueChange(e.id,null),null}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(e){s(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.valueChange=function(e){n.setState(function(e){return n.props.onEdit(n.props.state.path(),!e.value),n.props.valueChange(n.props.id,!e.value),{value:!e.value}})},n.updateState=function(e){n.setState(function(t){if(t.value!==e)return{value:e}})},n.state={value:e.value},n}return c(t,i.Component),o(t,[{key:"render",value:function(){var e=this.props.constraints;return a.default.createElement("div",{className:"custom-control custom-checkbox"},a.default.createElement("input",{type:"checkbox",checked:this.state.value,onChange:this.valueChange,className:"custom-control-input custom-control-input.checked",readOnly:void 0!==e.const}),a.default.createElement("label",{className:"custom-control-label",onClick:this.valueChange}))}}]),t}(),d=function(e){function t(e){s(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));p.call(n),n.checkbox=null;var r=e.value;return void 0!==e.constraints.const&&r!==e.constraints.const&&(r=e.constraints.const,e.valueChange(e.id,r)),void 0===r&&(r=void 0!==e.constraints.default&&e.constraints.default,e.valueChange(e.id,r)),n.state={value:r},n.props.addPrecontrol("checkbox",1e3,a.default.createElement(u,{key:"checkbox",id:n.props.id,ref:n.setRef,value:n.state.value,constraints:n.props.constraints,valueChange:n.valueChange,state:n.props.state,onEdit:n.props.onEdit})),"function"==typeof n.props.onConstruct&&n.props.onConstruct(n.props.state.path(),{getValue:n.getValue.bind(n),setValue:n.setValue.bind(n),addPrecontrol:n.props.addPrecontrol,addPostcontrol:n.props.addPostcontrol}),n}return c(t,i.Component),o(t,[{key:"componentWillUnmount",value:function(){this.props.delPrecontrol("checkbox")}},{key:"componentDidUpdate",value:function(e,t,n){t.value!==this.state.value&&this.checkbox.updateState(this.state.value)}},{key:"render",value:function(){return void 0===this.props.constraints.description?null:a.default.createElement("small",{className:"form-text text-muted"},this.props.constraints.description)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.value===t.value)return null;var n=e.value;return void 0!==e.constraints.const&&n!==e.constraints.const&&(n=e.constraints.const,e.valueChange(e.id,n)),void 0!==n&&"boolean"==typeof n||(n=void 0!==e.constraints.default&&e.constraints.default,e.valueChange(e.id,n)),{value:n}}}]),t}(),p=function(){var e=this;this.valueChange=function(t,n){e.props.valueChange(t,n)},this.setRef=function(t){e.checkbox=t},this.setValue=function(t){if(t!==e.state.value)return"boolean"==typeof t&&(void 0===e.props.constraints.const&&(e.props.onEdit(e.props.state.path(),t,"set"),e.setState({value:t}),e.props.valueChange(e.props.id,t),!0))},this.getValue=function(){return e.state.value}};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setValue=function(e){if(e!==n.state.value){if(void 0!==n.props.constraints.const)return!1;var t=e;switch(n.props.constraints.type){case"integer":if(""===e)t="",e=0;else if("-"===e)t="-",e=0;else{if(!/^-?[0-9]+$/.test(e))return!1;t=e=Number(e)}break;case"number":if(""===e)t="",e=0;else if("-"===e)t="-",e=0;else if(t=e=Number(e),!Number.isFinite(e))return!1}return n.props.onEdit(n.props.state.path(),e,"set"),n.props.valueChange(n.props.id,e),n.setState({value:t,valid:n.props.constraints.validate(e)}),!0}},n.getValue=function(){return n.state.value},n.valueChange=function(e){var t=e.target.value,r=t;switch(n.props.constraints.type){case"integer":if(""===t)r="",t=0;else if("-"===t)r="-",t=0;else{if(!/^-?[0-9]+$/.test(t))return;r=t=Number(t)}break;case"number":if(""===t)r="",t=0;else if("-"===t)r="-",t=0;else if(r=t=Number(t),!Number.isFinite(t))return}n.props.onEdit(n.props.state.path(),t),n.props.valueChange(n.props.id,t),n.setState({value:r,valid:n.props.constraints.validate(t)})},void 0!==e.constraints.const&&e.constraints.const!==e.value&&(e.valueChange(e.id,e.constraints.const),void 0!==e.value&&n.props.onEdit(e.state.path(),e.constraints.const,"set")),n.state={value:e.constraints.const||"",valid:e.constraints.validate("")},"function"==typeof n.props.onConstruct&&n.props.onConstruct(n.props.state.path(),{getValue:n.getValue.bind(n),setValue:n.setValue.bind(n),addPrecontrol:n.props.addPrecontrol,addPostcontrol:n.props.addPostcontrol}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){var e=this.props.constraints,t=this.state.valid,n=void 0!==e.enum?"custom-select":"form-control";void 0!==t&&(n+=" is-invalid");var r=void 0!==e.enum?a.default.createElement("select",{value:this.state.value,className:n,onChange:this.valueChange},[""].concat(e.enum).map(function(e){return a.default.createElement("option",{key:e,value:e},e)})):a.default.createElement("input",{value:this.state.value,onChange:this.valueChange,className:n,readOnly:void 0!==e.const});return a.default.createElement(a.default.Fragment,null,r,e.description&&a.default.createElement("small",{className:"form-text text-muted"},e.description),void 0!==t&&a.default.createElement("div",{className:"invalid-feedback"},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.value===t.value)return null;var n=e.value,r=n,o=e.constraints,i=o.const,a=o.default,s=o.type;return void 0!==i&&n!==i?(n=r=i,e.valueChange(e.id,n)):void 0!==n&&("number"===s&&"number"==typeof n||"string"===s&&"string"==typeof n||"integer"===s&&Number.isInteger(n))||(void 0!==a?n=r=a:"string"===s?n=r="":(r=0,n=""),e.valueChange(e.id,n)),{value:n,valid:e.constraints.validate(r)}}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),a=n(2),s=c(n(3)),l=n(1);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(e){u(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){n.setState(function(e){return e.value?(n.props.delProperty(n.props.item.id),n.props.item.custom&&n.props.update()):n.props.addProperty(n.props.item.id),{value:!e.value}})},n.state={value:e.item.active},n}return p(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.item,t=e.title||e.id;return i.default.createElement("div",{className:"custom-control custom-checkbox"},i.default.createElement("input",{type:"checkbox",className:"custom-control-input",checked:this.state.value,disabled:e.required,onChange:this.handleChange}),i.default.createElement("label",{className:"custom-control-label",onClick:this.handleChange,dangerouslySetInnerHTML:{__html:t}}))}}]),t}(),h=function(e){function t(e){u(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setWrapperRef=function(e){n.wrapperRef=e},n.handleClickOutside=function(e){!n.wrapperRef||n.wrapperRef.contains(e.target)||n.props.button.contains(e.target)||n.props.close()},n.handleChange=function(e){var t=n.props.constraints,r=e.target.value,o=void 0;if(new Set(n.state.properties.map(function(e){return e.id})).has(r)&&(o="Property already exists"),void 0===o&&void 0!==t.propertyNames&&(o=t.propertyNames.validate(r)),void 0===o&&void 0!==t.additionalProperties&&!1!==t.additionalProperties&&void 0!==t.patternProperties){var i=!1,a=!0,s=!1,l=void 0;try{for(var c,u=Object.keys(t.patternProperties)[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;if(RegExp(d).test(r)){i=!0;break}}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}i||(o="Must match one of "+Object.keys(t.patternProperties).join(", "))}n.setState({new:e.target.value,invalid:o})},n.handleKeypress=function(e){"Enter"===e.key&&n.handleAdd()},n.handleAdd=function(){n.setState(function(e){if(""!==e.new&&void 0===e.invalid)return n.props.addProperty(e.new),{new:"",invalid:void 0,properties:n.props.getProperties()}})},n.update=function(){n.setState({properties:n.props.getProperties()})},n.state={new:"",invalid:void 0,properties:e.getProperties()},n}return p(t,o.Component),r(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.state.properties.map(function(t){return i.default.createElement(f,{key:t.id,item:t,addProperty:e.props.addProperty,delProperty:e.props.delProperty,update:e.update})}),n=this.state.invalid,r="form-control";void 0!==n&&(r+=" is-invalid");var o="btn";return o+=void 0===n?" btn-outline-secondary":" btn-outline-danger",i.default.createElement("div",{className:"modal-dialog",ref:this.setWrapperRef},i.default.createElement("div",{className:"modal-content"},i.default.createElement("div",{className:"modal-body"},t),this.props.hasCustom&&i.default.createElement("div",{className:"modal-footer"},i.default.createElement("div",{className:"input-group"},i.default.createElement("input",{type:"text",className:r,placeholder:"Property name",value:this.state.new,onChange:this.handleChange,onKeyPress:this.handleKeypress}),i.default.createElement("div",{className:"input-group-append"},i.default.createElement("button",{className:o,type:"button",onClick:this.handleAdd},"Add"))),void 0!==n&&i.default.createElement("div",{className:"invalid-feedback"},n))))}}]),t}(),m=function(e){function t(e){u(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleOpen=function(e){n.setState(function(e){return{open:!e.open}})},n.close=function(){n.setState({open:!1})},n.setWrapperRef=function(e){n.wrapperRef=e},n.state={open:!1},n}return p(t,o.Component),r(t,[{key:"render",value:function(){var e="btn btn-sm btn-outline-secondary dropdown-toggle";return this.state.open&&(e+=" active"),i.default.createElement("div",{className:"ml-2 propertyContainer"},i.default.createElement("button",{type:"button",className:e,onClick:this.handleOpen,ref:this.setWrapperRef},"Properties"),this.state.open&&i.default.createElement(h,{close:this.close,button:this.wrapperRef,getProperties:this.props.getProperties,addProperty:this.props.addProperty,delProperty:this.props.delProperty,hasCustom:this.props.hasCustom,constraints:this.props.constraints}))}}]),t}(),g=function(e){function t(e){u(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));v.call(n);var r=e.constraints.required||[];n.hasCustom=void 0!==e.constraints.patternProperties||void 0!==e.constraints.additionalProperties&&!1!==e.constraints.additionalProperties,n.hasOptional=n.hasCustom||0!==Object.keys(e.constraints.properties||{}).filter(function(e){return r.indexOf(e)<0}).length;var o=e.state.collapsed;return void 0===o&&("function"==typeof(o=e.defaults.collapsed)&&(o=o(e.state.path())),e.state.collapsed=!!o),n.state={open:!o,value:{},invalid:e.constraints.validate({})},n.props.addPrecontrol("chevron",-1e3,i.default.createElement(s.default,{key:"objectChevron",handleHide:n.handleHide,open:n.state.open})),n.hasOptional&&n.props.addPostcontrol("properties",-1e3,i.default.createElement(m,{key:"objectProperty",getProperties:n.getProperties,addProperty:n.addProperty,delProperty:n.delProperty,hasCustom:n.hasCustom,constraints:n.props.constraints})),n.props.addPostcontrol("editJSON",-999,i.default.createElement("button",{type:"button",key:"editJSON",className:"btn btn-sm btn-outline-secondary ml-2",onClick:n.openModal},i.default.createElement(l.Edit2,null)," JSON")),"function"==typeof n.props.onConstruct&&n.props.onConstruct(n.props.state.path(),{getValue:n.getValue.bind(n),setValue:n.setValue.bind(n),addPrecontrol:n.props.addPrecontrol,addPostcontrol:n.props.addPostcontrol}),n}return p(t,o.Component),r(t,[{key:"componentWillUnmount",value:function(){this.props.delPrecontrol("chevron"),this.props.delPostcontrol("properties"),this.props.delPostcontrol("editJSON")}},{key:"render",value:function(){var e=this;if(!this.state.open)return"";var t=Object.keys(this.state.value).sort(function(t,n){var r=e.propertyConstraint(t).propertyOrder,o=e.propertyConstraint(n).propertyOrder;return void 0===r&&(r=1e3),void 0===o&&(o=1e3),r-o}).map(function(t){return i.default.createElement(a.BaseEditor,{state:e.props.state.child(t),defaults:e.props.defaults,key:t,id:t,constraints:e.propertyConstraint(t),value:e.state.value[t],valueChange:e.valueChange,editModal:e.props.editModal,onEdit:e.props.onEdit,onConstruct:e.props.onConstruct})}),n=this.state.invalid,r="objectBody mx-2 px-2 border border-top-0 rounded-bottom";return void 0!==n&&(r+=" is-invalid"),"grid"===this.props.constraints.format&&(r+=" grid"),i.default.createElement("div",{className:r},0===t.length&&i.default.createElement("span",{className:"badge badge-secondary mx-1 my-1"},"No properties"),void 0!==n&&i.default.createElement("div",{className:"invalid-feedback"},n),t)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.value===t.value)return null;var n=e.constraints,r=e.value;if(void 0!==r&&(r instanceof Object&&r.constructor===Object)){if(void 0!==n.required){var o=!1,i=!0,a=!1,s=void 0;try{for(var l,c=n.required[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;r.hasOwnProperty(u)||(r[u]=void 0,o=!0)}}catch(e){a=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}o&&e.valueChange(e.id,r)}}else{if(void 0!==n.default)r=JSON.parse(JSON.stringify(n.default));else{r={};var d=n.required||[];!0===e.defaults.optionalPropertiesTrue&&(d=Object.keys(n.properties));var p=!0,f=!1,h=void 0;try{for(var m,g=d[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){r[m.value]=void 0}}catch(e){f=!0,h=e}finally{try{!p&&g.return&&g.return()}finally{if(f)throw h}}}e.valueChange(e.id,r)}return{value:r,valid:e.constraints.validate(r)}}}]),t}(),v=function(){var e=this;this.getProperties=function(){var t=Object.keys(e.state.value),n=e.props.constraints.required||[],r=e.props.constraints.properties||{};return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(new Set(Object.keys(r).concat(t)))).map(function(e){return{id:e,active:t.indexOf(e)>=0,required:n.indexOf(e)>=0,title:(r[e]||{}).title,custom:void 0===r[e]}})},this.addProperty=function(t){e.props.onEdit(e.props.state.path(),t,"add"),e.state.value[t]=void 0,e.setState({invalid:e.props.constraints.validate(e.state.value)})},this.delProperty=function(t){e.props.onEdit(e.props.state.path(),t,"del"),delete e.state.value[t],e.setState({invalid:e.props.constraints.validate(e.state.value)})},this.setValue=function(t){if(JSON.stringify(t)!==JSON.stringify(e.state.value)){if(!(t instanceof Object&&t.constructor===Object))return!1;e.props.onEdit(e.props.state.path(),t,"set"),e.setState({value:t,invalid:e.props.constraints.validate(t)}),e.props.valueChange(e.props.id,t)}},this.getValue=function(){return e.state.value},this.openModal=function(){e.props.editModal.current.open(e)},this.handleHide=function(t){e.setState({open:t}),e.props.state.collapsed=!t},this.valueChange=function(t,n){e.state.value[t]=n},this.propertyConstraint=function(t){var n=e.props.constraints;if(void 0!==n.properties&&void 0!==n.properties[t])return n.properties[t];if(void 0!==n.patternProperties){var r=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(n.patternProperties)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(RegExp(l).test(t))return n.patternProperties[l]}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}return void 0!==n.additionalProperties?n.additionalProperties:void 0}};t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(15)),i=c(n(14)),a=c(n(13)),s=c(n(12)),l=c(n(11));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d={object:o.default,string:i.default,number:i.default,integer:i.default,boolean:a.default,null:s.default,array:l.default},p=function(){function e(t,n,r){var o=this;switch(u(this,e),this.type=t,this.const=n.const,this.enum=n.enum,void 0===this.const&&void 0!==this.enum&&1===this.enum.length&&(this.const=this.enum[0],this.enum=void 0),this.format=n.format,t){case"array":void 0!==n.items&&(Array.isArray(n.items)?this.items=n.items.map(function(e){return new w(e,r.fullschema)}):this.items=new w(n.items,r.fullschema)),void 0!==n.additionalItems&&(this.additionalItems=new w(n.additionalItems,r.fullschema));break;case"object":if(this.required=n.required,void 0!==n.properties){this.properties={};for(var i=Object.keys(n.properties),a=0;a<i.length;a++)this.properties[i[a]]=new w(n.properties[i[a]],r.fullschema)}if(void 0!==n.patternProperties){this.patternProperties={};for(var s=Object.keys(n.patternProperties),l=0;l<s.length;l++)this.patternProperties[s[l]]=new w(n.patternProperties[s[l]],r.fullschema)}void 0!==n.additionalProperties&&(!1===n.additionalProperties?this.additionalProperties=!1:this.additionalProperties=new w(n.additionalProperties,r.fullschema)),void 0!==n.propertyNames&&(r.replaceRef(n.propertyNames),this.propertyNames=new e("string",n.propertyNames,r))}this.constraints=[],void 0!==this.enum&&this.constraints.push(function(e){if(-1===o.enum.indexOf(e))return"Must be one of the choices."}),"integer"===t&&(t="number");for(var c=m[t],d=Object.keys(c),p=0;p<d.length;p++)void 0!==n[d[p]]&&this.constraints.push(c[d[p]](n[d[p]]))}return r(e,[{key:"validate",value:function(e){for(var t=0;t<this.constraints.length;t++){var n=this.constraints[t](e);if(void 0!==n)return n}}}]),e}(),f=function(){function e(t,n){u(this,e),this.title=t.title||t.type,this.type=t.type,this.description=t.description,this.constraints=new p(t.type,t,n)}return r(e,[{key:"component",value:function(){return d[this.type]}},{key:"idForValue",value:function(e){return 0}}]),e}(),h=function(){function e(t,n,r){u(this,e),this.title=t.title||t.type,this.description=t.description,this.editors=n}return r(e,[{key:"component",value:function(){return this.editors}},{key:"idForValue",value:function(e){if(void 0===e)return 0;for(var t=[],n=[],r=0;r<this.editors.length;r++){var o=this.editors[r].constraints,i=!1;switch(o.type){case"null":null===e&&(i=!0);break;case"boolean":"boolean"==typeof e&&(i=!0);break;case"integer":Number.isInteger(e)&&(i=!0);break;case"number":"number"==typeof e&&(i=!0);break;case"string":"string"==typeof e&&(i=!0);break;case"array":Array.isArray(e)&&(i=!0);break;case"object":e instanceof Object&&e.constructor===Object&&(i=!0)}if(i){if(void 0!==o.const){if(e===o.const)return r;n.push(r);continue}if(void 0!==o.enum){if(-1!==o.enum.indexOf(e))return r;n.push(r);continue}void 0===o.validate(e)?t.push(r):n.push(r)}}return 0!==t.length?t[0]:0!==n.length?n[0]:0}}]),e}(),m={null:{},boolean:{},number:{multipleOf:function(e){return Array.isArray(e)||(e=[e]),function(t){for(var n=0;n<e.length;n++)if(t%e[n]!=0)return"Must be a multiple of "+e[n]}},maximum:function(e){return function(t){if(t>e)return"Must be less than or exactly "+e}},exclusiveMaximum:function(e){return function(t){if(t>=e)return"Must be less than "+e}},minimum:function(e){return function(t){if(t<e)return"Must be greater than or exactly "+e}},exclusiveMinimum:function(e){return function(t){if(t<=e)return"Must be greater than "+e}}},string:{maxLength:function(e){return function(t){if(t.length>e)return"Length must be less than or equal to "+e}},minLength:function(e){return function(t){if(t.length<e)return"Length must be greater than or equal to "+e}},pattern:function(e){return Array.isArray(e)||(e=[e]),function(t){for(var n=0;n<e.length;n++)if(!RegExp(e[n]).test(t))return"Must match pattern '"+e[n]+"'"}},format:function(e){return function(e){console.error("todo: format")}}},array:{maxItems:function(e){return function(t){if(t.length>e)return"Must have less than or equal to "+e+" items"}},minItems:function(e){return function(t){if(t.length<e)return"Must have more than or equal to "+e+" items"}},uniqueItems:function(e){return function(e){console.error("todo: unique items")}},contains:function(e){return function(e){console.error("todo: contains")}}},object:{maxProperties:function(e){return function(t){if(Object.keys(t).length>e)return"Must have less than or equal to "+e+" items"}},minProperties:function(e){return function(t){if(Object.keys(t).length<e)return"Must have more than or equal to "+e+" items"}},dependencies:function(e){return function(e){console.error("todo: dependencies")}}}};function g(e,t){var n=function e(t,n){var r={};for(var o=o;o<v.length;o++)void 0!==t[v[o]]&&void 0!==n[v[o]]?r[v[o]]=g(t,n):void 0===t[v[o]]&&void 0===n[v[o]]||(r[v[o]]=t[v[o]]||n[v[o]]);void 0!==t.const&&void 0!==n.const?(t.const!==n.const&&console.error("can't merge schemas; non equal consts"),r.const=t.const):void 0===t.const&&void 0===n.const||(r.const=t.const||n.const);if(void 0!==t.dependencies||void 0!==n.dependencies){r.dependencies=Object.assign({},n.dependencies,t.dependencies);var i=Object.keys(t||{});i=Object.keys(n||{}).filter(function(e){return i.indexOf(e)>=0});for(var a=0;a<i.length;a++)Array.isArray(t.dependencies[i[a]])?Array.isArray(n.dependencies[i[a]])?r.dependencies[i[a]]=t.dependencies[i[a]].concat(n.dependencies[i[a]]):(console.error("Can only merge dependencies of same type"),r.dependencies[i[a]]=t.dependencies[i[a]]):Array.isArray(n.dependencies[i[a]])?(console.error("Can only merge dependencies of same type"),r.dependencies[i[a]]=t.dependencies[i[a]]):r.dependencies[i[a]]=g(t.dependencies[i[a]],n.dependencies[i[a]])}void 0!==t.enum&&void 0!==n.enum?r.enum=n.enum.filter(function(e){return t.enum.indexOf(e)>=0}):void 0===t.enum&&void 0===n.enum||(r.enum=t.enum||n.enum);for(var s=s;s<y.length;s++)void 0!==t[y[s]]&&void 0!==n[y[s]]?r[y[s]]=Math.min(t[y[s]],n[y[s]]):void 0===t[y[s]]&&void 0===n[y[s]]||(r[y[s]]=t[y[s]]||n[y[s]]);for(var l=l;l<b.length;l++)void 0!==t[b[l]]&&void 0!==n[b[l]]?r[b[l]]=Math.max(t[b[l]],n[b[l]]):void 0===t[b[l]]&&void 0===n[b[l]]||(r[b[l]]=t[b[l]]||n[b[l]]);void 0!==t.format&&void 0!==n.format?(t.format!==n.format&&console.error("mismatching format during merge!"),r.format=t.format):void 0===t.format&&void 0===n.format||(r.format=t.format||n.format);if(void 0!==t.items&&void 0!==n.items){if(Array.isArray(t.items))if(r.items=[],Array.isArray(n.items))if(t.items.length!==n.items.length)console.error("items must be same length!"),r.items=t.items;else for(var c=0;c<t.items.length;c++)r.items[c]=g(t.items[c],n.items[c]);else for(var u=0;u<t.items.length;u++)r.items[u]=g(t.items[u],n.items);else if(r.items=[],Array.isArray(n.items))for(var d=0;d<n.items.length;d++)r.items[d]=g(t.items,n.items[d])}else void 0===t.items&&void 0===n.items||(r.items=t.items||n.items);void 0!==t.multipleOf&&void 0!==n.multipleOf?r.multipleOf=[].concat(t.multipleOf,n.multipleOf):void 0===t.multipleOf&&void 0===n.multipleOf||(r.multipleOf=t.multipleOf||n.multipleOf);void 0===t.pattern&&void 0===n.pattern||(r.pattern=[].concat(t.pattern||[],n.pattern||[]));if(void 0!==t.patternProperties||void 0!==n.patternProperties){r.patternProperties=Object.assign({},n.patternProperties,t.patternProperties);var p=Object.keys(t||{});p=Object.keys(n||{}).filter(function(e){return p.indexOf(e)>=0});for(var f=0;f<p.length;f++)r.patternProperties[p[f]]=g(t.patternProperties[p[f]],n.patternProperties[p[f]])}if(void 0!==t.properties||void 0!==n.properties){r.properties=Object.assign({},n.properties,t.properties);var h=Object.keys(t||{});h=Object.keys(n||{}).filter(function(e){return h.indexOf(e)>=0});for(var m=0;m<h.length;m++)r.properties[h[m]]=g(t.properties[h[m]],n.properties[h[m]])}void 0!==t.propertyNames&&void 0!==n.propertyNames?r.propertyNames=e(t,n):void 0===t.propertyNames&&void 0===n.propertyNames||(r.propertyNames=t.propertyNames||n.propertyNames);void 0!==t.required&&void 0!==n.required?r.required=n.required.filter(function(e){return t.required.indexOf(e)>=0}):void 0===t.required&&void 0===n.required||(r.required=t.required||n.required);void 0!==t.uniqueItems&&void 0!==n.uniqueItems?(t.uniqueItems!==n.uniqueItems&&console.error("Can't merge uniqueItems"),r.uniqueItems=t.uniqueItems):void 0!==t.uniqueItems?r.uniqueItems=t.uniqueItems:void 0!==n.uniqueItems&&(r.uniqueItems=n.uniqueItems);void 0!==n.propertyOrder&&(r.propertyOrder=n.propertyOrder);void 0!==t.propertyOrder&&(r.propertyOrder=t.propertyOrder);return r}(e,t);if(void 0!==e.type){var r=[].concat(e.type);if(void 0!==t.type){var o=[].concat(t.type).filter(function(e){return r.indexOf(e)>=0});0===o.length?(console.error("unsatisfiable schema; can't match types '"+e.type+"' and '"+t.type+"'"),n.type=e.type):o.length>1?n.type=o:n.type=o[0]}else n.type=e.type}else void 0===t.type?console.error("need at least a type!"):n.type=t.type;return void 0!==e.title&&(n.title=e.title),void 0!==t.title&&(n.title=t.title),void 0!==e.description&&(n.description=e.description),void 0!==t.description&&(n.description=t.description),n}var v=["additionalItems","additionalProperties","contains"],y=["exclusiveMaximum","maximum","maxItems","maxLength","maxProperties"],b=["exclusiveMinimum","minimum","minItems","minLength","minProperties"];var w=function(){function e(t,n){u(this,e),this.schema=t,this.title=t.title,this.fullschema=n,void 0===n&&(this.fullschema=t),this.propertyOrder=t.propertyOrder}return r(e,[{key:"resolveRef",value:function(e){var t=e.split("/");if("#"!==t[0])return console.error("Only internal refs implemented."),{};for(var n=this.fullschema,r=1,o=t.length;r<o;r++)if(void 0===(n=n[t[r]]))return console.error("Couldn't find ref '"+e+"' in schema."),{};return n}},{key:"replaceRef",value:function(e){void 0!==e.$ref&&(Object.assign(e,this.resolveRef(e.$ref)),delete e.$ref)}},{key:"getEditor",value:function(){this.replaceRef(this.schema);var e=Object.assign({},this.schema);if(void 0!==this.schema.allOf)for(var t=0;t<this.schema.allOf.length;t++)this.replaceRef(this.schema.allOf[t]),e=g(e,this.schema.allOf[t]);delete e.title,delete e.description,void 0!==this.schema.title&&(e.title=this.schema.title),void 0!==this.schema.description&&(e.description=this.schema.description);var n=(this.schema.oneOf||[]).concat(this.schema.anyOf||[]);if(0===n.length){if(Array.isArray(e.type)){if(1===e.type.length)return e.type=e.type[0],new f(e,this);for(var r=[],o=0;o<e.type.length;o++){var i=Object.assign({},e);i.type=e.type[o],delete i.title,delete i.description,r.push(new f(i,this))}return new h(e,r,this)}return new f(e,this)}for(var a=[],s=0;s<n.length;s++){this.replaceRef(n[s]);var l=g(e,n[s]);if(Array.isArray(l.type)){var c=!0,u=!1,d=void 0;try{for(var p,m=l.type[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var v=p.value;a.push(new f(Object.assign(l,{type:v}),this))}}catch(e){u=!0,d=e}finally{try{!c&&m.return&&m.return()}finally{if(u)throw d}}}else a.push(new f(l,this))}return new h(e,a,this)}}]),e}();t.default=function(e){return new w(e)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,c=0,u=[],d=n(17);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),h(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=c++;n=l||(l=g(t)),r=j.bind(null,n,a,!1),o=j.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=d(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}e&&p(f(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var b,w=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function j(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){(e.exports=n(19)(!1)).push([e.i,".propertyContainer {\n  position: relative;\n}\n\n.propertyContainer > .modal-dialog {\n  position: absolute;\n  margin: 0 !important;\n  width: max-content !important;\n  z-index: 10;\n  max-width: initial;\n}\n\n.propertyContainer .modal-body {\n  overflow-y: auto;\n  max-height: 200px;\n  min-width: 200px;\n}\n\n.propertyContainer .modal-footer {\n  display: initial;\n}\n\n.propertyContainer .invalid-feedback {\n  display: initial;\n}\n.propertyContainer > .modal-dialog label {\n  justify-content: initial;\n  display: initial;\n}\n\n.short > .editor {\n  flex-grow: 2;\n}\n\n.objectBody.grid {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.form-group.short {\n  display: flex;\n  flex-wrap: wrap;\n  flex-grow: 2;\n}\n\n.objectBody.grid > .form-group > .form-inline {\n  min-height: calc(1.8125rem + 2px);\n}\n\n.editor-chooser {\n  width: auto;\n}\n\n.objectBody.is-invalid {\n  border-color: #dc3545 !important;\n}\n\n.objectBody .invalid-feedback {\n  display: initial;\n}\n\n.array-item {\n  display: flex;\n  align-items: flex-start;\n}\n\n.array-item.dragging {\n  opacity: 0.5 !important;\n  border: medium dashed darkgreen !important;\n}\n\n.array-item > button {\n  height: fit-content;\n\n}\n\n.move {\n  cursor: row-resize !important;\n}\n\n.raw-dialog {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  max-width: initial;\n}\n\n.raw-content {\n  position: absolute;\n  top: 10%;\n  bottom: 10%;\n  left: 10%;\n  right: 10%;\n  width: initial;\n}\n\n.chevron {\n  color: black;\n  vertical-align: middle;\n  width: 16px;\n  height: 16px;\n  stroke-width: 2;\n}\n\nbutton > svg {\n  vertical-align: middle;\n  width: 16px;\n  height: 16px;\n  stroke-width: 1;\n}",""])},function(e,t,n){var r=n(20);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(18)(r,o);r.locals&&(e.exports=r.locals)}])});
//# sourceMappingURL=rjson-editor.js.map